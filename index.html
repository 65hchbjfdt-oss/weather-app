<!-- ‚ö†Ô∏è –§–ê–ô–õ –ë–û–õ–¨–®–û–ô. –≠–¢–û –ù–û–†–ú–ê–õ–¨–ù–û. -->
<!-- iOS Weather Ultimate ‚Äì FINAL -->

<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
<title>iOS Weather Ultimate</title>

<style>
:root{
  --glass-bg: rgba(40,40,40,.45);
  --glass-border: rgba(255,255,255,.22);
  --blur: blur(32px);
  --spring: cubic-bezier(.25,1,.4,1);
  --safe-bottom: env(safe-area-inset-bottom);
}

/* RESET */
*{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"SF Pro Display";}
body{
  margin:0;
  background:#000;
  color:#fff;
  overflow:hidden;
}

/* BACKGROUND */
canvas{
  position:fixed;
  inset:0;
  z-index:-1;
}

/* HEADER */
header{
  padding:14px 14px 6px;
  display:flex;
  gap:10px;
  position:relative;
  z-index:1000;
}
.search{
  flex:1;
  display:flex;
  align-items:center;
  gap:8px;
  background:var(--glass-bg);
  backdrop-filter:var(--blur);
  border-radius:18px;
  padding:10px 14px;
  border:1px solid var(--glass-border);
}
.search input{
  background:none;border:none;outline:none;
  color:#fff;font-size:16px;width:100%;
}
.btn{
  width:44px;height:44px;
  border-radius:50%;
  background:var(--glass-bg);
  backdrop-filter:var(--blur);
  border:1px solid var(--glass-border);
  display:flex;align-items:center;justify-content:center;
}

/* STAGE */
#stage{
  position:relative;
  height:100vh;
  overflow:hidden;
}

/* PAGE */
.page{
  position:absolute;
  inset:0;
  padding:0 18px calc(160px + var(--safe-bottom));
  overflow-y:auto;
  -webkit-overflow-scrolling:touch;
  transition:
    transform .8s var(--spring),
    opacity .5s ease;
}
.page.inactive{
  opacity:0;
  pointer-events:none;
}
.page.left{transform:translateX(-100%);}
.page.right{transform:translateX(100%);}

/* CITY HEADER */
.city{
  text-align:center;
  margin-top:36px;
}
.city h1{
  font-size:34px;font-weight:600;margin:0;
}
.city .cond{opacity:.8;margin:6px 0;}
.city .temp{
  font-size:96px;font-weight:200;line-height:1;
}

/* GLASS CARD */
.card{
  background:var(--glass-bg);
  backdrop-filter:var(--blur);
  border:1px solid var(--glass-border);
  border-radius:24px;
  padding:18px;
  margin-top:14px;
}

/* GRID */
.grid{display:flex;gap:14px;}
.grid .card{flex:1}

/* LABEL */
.label{
  font-size:12px;
  opacity:.6;
  margin-bottom:10px;
  letter-spacing:.4px;
}

/* SUN CARD */
.sun-path{
  height:70px;
  background:linear-gradient(to top,rgba(255,255,255,.15),transparent);
  border-radius:12px;
  position:relative;
  overflow:hidden;
}

/* MODAL */
.modal{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.65);
  backdrop-filter:blur(40px);
  display:none;
  z-index:5000;
}
.modal .sheet{
  position:absolute;
  left:0;right:0;bottom:0;
  background:rgba(30,30,30,.9);
  backdrop-filter:blur(40px);
  border-radius:28px 28px 0 0;
  padding:24px 18px calc(24px + var(--safe-bottom));
  animation:slideUp .6s var(--spring);
}
@keyframes slideUp{
  from{transform:translateY(100%)}
}

/* CLOSE */
.close{
  position:absolute;
  top:14px;right:14px;
  width:36px;height:36px;
  border-radius:50%;
  background:var(--glass-bg);
  border:1px solid var(--glass-border);
  display:flex;align-items:center;justify-content:center;
}

/* PAGINATION */
.dots{
  position:fixed;
  bottom:26px;
  left:50%;
  transform:translateX(-50%);
  display:flex;
  gap:8px;
}
.dot{
  width:8px;height:8px;border-radius:50%;
  background:rgba(255,255,255,.3);
}
.dot.active{background:#fff}
</style>
</head>

<body>

<canvas id="bg"></canvas>

<header>
  <div class="search">
    üîç <input placeholder="–ü–æ–∏—Å–∫ –≥–æ—Ä–æ–¥–∞‚Ä¶" oninput="search(this.value)">
  </div>
  <div class="btn" onclick="openSettings()">‚öôÔ∏è</div>
</header>

<div id="stage"></div>
<div class="dots" id="dots"></div>

<!-- SUN MODAL -->
<div class="modal" id="sunModal">
  <div class="sheet">
    <div class="close" onclick="closeSun()">‚úï</div>
    <h2>–°–æ–ª–Ω—Ü–µ</h2>
    <div id="sunInfo"></div>
  </div>
</div>

<script>
/* ==== STATE ==== */
let pages=[],index=0;

/* ==== PAGE RENDER ==== */
function renderPage(city,data){
  const p=document.createElement('div');
  p.className='page right';
  p.innerHTML=`
    <div class="city">
      <h1>${city.name}</h1>
      <div class="cond">${data.desc}</div>
      <div class="temp">${data.temp}¬∞</div>
    </div>

    <div class="grid">
      <div class="card" onclick="openSun(data)">
        <div class="label">–í–û–°–•–û–î –ò –ó–ê–ö–ê–¢</div>
        <div>${data.sunrise} ‚Äì ${data.sunset}</div>
        <div class="sun-path"></div>
      </div>
      <div class="card">
        <div class="label">–õ–£–ù–ê</div>
        <div>${data.moon}</div>
      </div>
    </div>

    <div class="grid">
      <div class="card">
        <div class="label">–î–ê–í–õ–ï–ù–ò–ï</div>
        ${data.pressure} –º–º
      </div>
      <div class="card">
        <div class="label">–í–ï–¢–ï–†</div>
        ${data.wind} –º/—Å
      </div>
    </div>

    <div class="card">
      <div class="label">ü§ñ AI –ü–û–ú–û–©–ù–ò–ö</div>
      ${data.ai}
    </div>
  `;
  document.getElementById('stage').appendChild(p);
  pages.push(p);
  updatePages();
}

/* ==== ANIMATION ==== */
function updatePages(){
  pages.forEach((p,i)=>{
    p.classList.remove('left','right','inactive');
    if(i<index) p.classList.add('left','inactive');
    if(i>index) p.classList.add('right','inactive');
  });
  renderDots();
}

/* ==== DOTS ==== */
function renderDots(){
  dots.innerHTML=pages.map((_,i)=>
    `<div class="dot ${i===index?'active':''}"></div>`
  ).join('');
}

/* ==== SUN ==== */
function openSun(d){
  sunInfo.innerHTML=`
    –ü–µ—Ä–≤—ã–µ –ª—É—á–∏: ${d.first}<br>
    –†–∞—Å—Å–≤–µ—Ç: ${d.sunrise}<br>
    –ó–∞–∫–∞—Ç: ${d.sunset}<br>
    –ü–æ—Å–ª–µ–¥–Ω–∏–µ –ª—É—á–∏: ${d.last}<br>
    –°–≤–µ—Ç–æ–≤–æ–π –¥–µ–Ω—å: ${d.len}
  `;
  sunModal.style.display='block';
}
function closeSun(){sunModal.style.display='none'}

/* ==== DEMO DATA ==== */
renderPage({name:'–ú–æ—Å–∫–≤–∞'},{
  desc:'–Ø—Å–Ω–æ',
  temp:8,
  sunrise:'08:51',
  sunset:'16:53',
  first:'08:10',
  last:'17:34',
  len:'8 —á 2 –º–∏–Ω',
  pressure:748,
  wind:3,
  moon:'–†–∞—Å—Ç—É—â–∞—è',
  ai:'–û—Ç–ª–∏—á–Ω–∞—è –ø–æ–≥–æ–¥–∞ –¥–ª—è –ø—Ä–æ–≥—É–ª–∫–∏.'
});
</script>

</body>
</html>